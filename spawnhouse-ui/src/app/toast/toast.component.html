<div class="toast-container position-relative overflow-none" [ngClass]="{'h-0': !showing}" style="right: 0; bottom: 0; width: 20rem; height: auto;">

    <div class="m-1" *ngFor="let toast of toasts; let i=index">
        <div class="" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="toast-header bg-{{toast.type}} text-white">
              <span class="{{toast.icon}} mr-2"></span>
              <strong class="mr-auto">{{ toast?.heading | titlecase }}</strong>
              <small>{{ toast?.time | ago: true }}</small>
              <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close" (click)="removeToast(i);">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="toast-body bg-white std-box-shadow">
                <div [innerHTML]="toast.text" *ngIf="toast.heading !== 'feedback'"></div>
                <div *ngIf="toast.heading === 'feedback'">
                    <ng-container *ngTemplateOutlet="feedbackTemplate, context:i"></ng-container>
                </div>
            </div>
        </div>
        <!-- <div class="timer animate-width-{{toast.duration}} bg-secondary"></div> -->
    </div>

    <div class="w-100">
        <div class="btn btn-light w-100" (click)="toasts = []; showing = false;">Clear All</div>
    </div>
</div>


<ng-template #feedbackTemplate let-i>
    <div class="m-1">
        Is there anything bothering you? <br>
        <div class="btn bg-theme text-white m-1 rounded" (click)="routeTo('feedback'); removeToast(i);">Feedback</div>
        <div class="btn bg-lite m-1 rounded" (click)="removeToast(i)">Hide</div>
    </div>
</ng-template>