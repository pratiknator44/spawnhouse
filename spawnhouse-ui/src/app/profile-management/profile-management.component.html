<div class="position-relative bg-lite">

<div class="w-100 bg-theme" style="z-index: 0; height: 30vh;"></div>

<div class="profile-management position-relative mt-3 z-nav bg-white" style="top: -10rem;">

    <div class="m-3 mt-3">
        <h2 class="text-secondary">About</h2>
        <label>Your top 3 preferences when you play a co-op game</label>
        <div class="player-type-choices text-center d-flex text-secondary mt-3" style="flex-wrap: wrap;">
            <div class="player-type-choice-container text-center ml-auto mr-auto cursor-pointer" [ngClass]="{'text-theme': type?.checked}" (click)="selectType(i)" *ngFor="let type of playerTypes; let i = index">
                <span class="big-icon cursor-pointer iconset icon-{{type.id | playertype : true}} d-block m-0 p-0"></span>
                {{type.id | playertype | titlecase}}
            </div>
        </div>
        <div class="w-75 d-inline-block"></div>
        <div class="btn bg-theme text-white w-25" (click)="savePlayerType()" [ngClass]="{'bg-secondary': saveText.type === 'Saving...'}" style="margin-top: 2rem;">{{saveText.type}}</div>
    </div>


    <div class="m-3">
        <div class="w-25">
        </div>
        <hr>
        <form [formGroup]="gamedataForm" (ngSubmit)="submitGamedata()" action="" method="POST">
            <label class="mt-1">Some of the best videogames you've played. Click on game name to remove it. Click on <span class="iconset icon-favorite_outline text-danger"></span> to set as favourite</label>
            <sh-chips [items]="gameSuggestions" [selected]="items" (queryChange)="queryChange($event)" (selectionChange)="newSelections($event)"></sh-chips>

            <div class="hover-underline text-primary cursor-pointer mt-3">What are you playing today?</div>
            <div class="row mt-2">
                <div class="col-12">
                    Type of games you like (select top 3):
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div *ngFor="let genre of genres">
                        <input [disabled]="gamedataForm.get('genres').value?.length > 3 && !gamedataForm.get('genres').value?.includes(genre.id)" type="checkbox" (click)="updateGenreCheckList($event, genre.id)" class="form" id="{{genre.id}}" checked="{{genre.checked}}" /> <label class="ml-1" for="{{genre.id}}">{{genre.genre}} <label class="ml-1 text-secondary font-italic" for={{genre.id}}>{{ genre.example }} etc.</label></label> 
                    </div>
                </div>
            </div>
            <button type="submit" class="btn w-25 bg-theme text-white float-right"
            [ngClass]="{'bg-secondary': saveText.videogame === 'Saving...'}">{{saveText.videogame}}</button></form>
    </div>

    <!-- <hr> -->
    <br><br>
<hr>
    <div class="m-3">
        <form [formGroup]="userinfoForm" (ngSubmit)="submitUserdata()" action="" method="POST">
            <h2 class="text-secondary">Personal</h2>

            <div class="row">
                <div class="col-6">First Name<label class="text-danger">*</label></div>
                <div class="col-6">Last Name<label class="text-danger">*</label></div>
            </div>
            
            <div class="row">
                <div class="col-6">
                    <input type="text" formControlName="fname" class="form form-control" />
                </div>
                <div class="col-6">
                    <input type="text" formControlName="lname" class="form form-control" />
                </div>
            </div>
            <div class="row">
                <div class="col-6">Username
                    <span class="text-secondary" style="font-size: 10px;">
                       will let you access spawnhouse.com/your-username
                    </span>
                </div>
            </div>
            <div class="row">
                <div class="col-6"><input type="text" class="form form-control" formControlName="username" /></div>
                <div class="col-4"><label class=" btn text-primary cursor-pointer hover-underline">Check</label></div>
            </div>

            <div class="row">
                <div class="col-6"> Email <label class="text-danger">*</label></div>
                <div class="col-6">Phone</div>
            </div>
            <div class="row">
                <div class="col-6">
                    <input type="email" formControlName="email" class="form form-control" />
                </div>
                <div class="col-6"><input type="number" formControlName="phone" class="form form-control" maxlength="10" /></div>
            </div>
            <div class="row mt-3">
                <div class="col-12">Website</div>
            </div>
            <div class="row">
                <div class="col-12"><input type="text" class="form form-control" formControlName="website" /></div>
            </div>

            <div class="row mt-3">
                <div class="col-12">Bio</div>
            </div>
            <div class="row">
                <div class="col-12">
                    <textarea cols="7" class="form form-control" formControlName="bio"></textarea>
                    <label class="text-secondary float-right">{{ userinfoForm.get('bio').value.length+'/100' }}</label>
                </div>
            </div><div class="row mt-3">
                <div class="col-12">Favourite Quote</div>
            </div>
            <div class="row">
                <div class="col-12">
                    <input type="text" formControlName="quote" class="form form-control font-italic" placeholder="'Sic Patvis magna' -Nathan Drake ">
                    <label class="text-secondary float-right">{{  userinfoForm.get('quote').value.length+'/100' }}</label>
                </div>
            </div>
            <div class="row mt-3">
                <div class="col-6">You joined on {{ user['doj'] | date:'mediumDate' }}</div>
                <div class="col-6">
                    <button type="submit" class="btn w-50 bg-theme text-white float-right" [ngClass]="{'bg-secondary': saveText.videogame === 'Saving...'}">{{saveText.personal}}</button>
                </div>
            </div>
        </form>

    </div>
</div>
</div>